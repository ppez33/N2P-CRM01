# =================================================================
# N2P-CRM01 - Configuration File
# =================================================================
# IMPORTANT: Copy this file to .env and customize all values
# Never commit .env to version control!
# =================================================================

# =================================================================
# APPLICATION SETTINGS
# =================================================================
APP_NAME=N2P-CRM01
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=production
DOMAIN=your-domain.com
SECRET_KEY=your-super-secret-key-change-this-in-production-min-32-chars
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# =================================================================
# DATABASE CONFIGURATION
# =================================================================

# MongoDB (Primary Database)
MONGODB_URL=mongodb://n2p_admin:n2p_secure_password@mongodb:27017
MONGODB_DATABASE=n2p_crm
MONGO_ROOT_USER=n2p_admin
MONGO_ROOT_PASSWORD=n2p_secure_password

# PostgreSQL (Alternative Database)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=n2p_crm
POSTGRES_USER=n2p_user
POSTGRES_PASSWORD=n2p_secure_password
DATABASE_URL=postgresql://n2p_user:n2p_secure_password@postgres:5432/n2p_crm

# =================================================================
# CACHE & SESSION STORE
# =================================================================
REDIS_URL=redis://:n2p_redis_password@redis:6379/0
REDIS_PASSWORD=n2p_redis_password
CELERY_BROKER_URL=redis://:n2p_redis_password@redis:6379/1
CELERY_RESULT_BACKEND=redis://:n2p_redis_password@redis:6379/2

# =================================================================
# API KEYS (CRITICAL - MUST CONFIGURE!)
# =================================================================

# Powerchat API (WhatsApp/SMS notifications)
POWERCHAT_API_KEY=your-powerchat-api-key-from-wispcommunity
POWERCHAT_API_URL=https://opentalk.wispcommunity.com/api/v1
POWERCHAT_WEBHOOK_SECRET=your-powerchat-webhook-secret

# Google Services
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
GOOGLE_EARTH_API_KEY=your-google-earth-api-key
GOOGLE_OAUTH_CLIENT_ID=your-google-oauth-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-google-oauth-client-secret

# Bequant QoE Optimization
BEQUANT_API_KEY=your-bequant-api-key
BEQUANT_API_URL=https://api.bequant.com/v1
BEQUANT_WEBHOOK_SECRET=your-bequant-webhook-secret

# =================================================================
# SECURITY & JWT
# =================================================================
JWT_SECRET_KEY=your-jwt-secret-key-change-this
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440
REFRESH_TOKEN_EXPIRE_DAYS=30

# Password hashing
BCRYPT_ROUNDS=12

# CORS settings
CORS_ORIGINS=http://localhost,http://localhost:3000,https://your-domain.com
CORS_ALLOW_CREDENTIALS=true

# =================================================================
# MIKROTIK CONFIGURATION
# =================================================================
MIKROTIK_DEFAULT_PORT=8728
MIKROTIK_DEFAULT_TIMEOUT=10
MIKROTIK_DEFAULT_USER=n2p-api
MIKROTIK_DEFAULT_PASSWORD=change-this-password
MIKROTIK_SSL_VERIFY=true

# Default router settings
MIKROTIK_MAX_CONNECTIONS=10
MIKROTIK_CONNECTION_POOL_SIZE=5

# =================================================================
# BILLING & PAYMENTS
# =================================================================
BILLING_CURRENCY=MXN
BILLING_TAX_RATE=0.16
BILLING_COMPANY_NAME=Your ISP Company Name
BILLING_RFC=Your-Mexican-RFC-Code

# Auto-suspension settings
AUTO_SUSPEND_ENABLED=true
AUTO_SUSPEND_DAYS=5
AUTO_SUSPEND_NOTIFICATION_DAYS=3,1

# Payment gateways
STRIPE_PUBLIC_KEY=pk_test_your-stripe-public-key
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_ENVIRONMENT=sandbox

# Mexican payment processors
CONEKTA_PUBLIC_KEY=key_your-conekta-public-key
CONEKTA_PRIVATE_KEY=key_your-conekta-private-key

OPENPAY_MERCHANT_ID=your-openpay-merchant-id
OPENPAY_PUBLIC_KEY=pk_your-openpay-public-key
OPENPAY_PRIVATE_KEY=sk_your-openpay-private-key

# =================================================================
# EMAIL CONFIGURATION
# =================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_USE_TLS=true
SMTP_FROM_EMAIL=noreply@your-domain.com
SMTP_FROM_NAME=N2P-CRM01 System

# Email templates
EMAIL_TEMPLATE_WELCOME=welcome
EMAIL_TEMPLATE_INVOICE=invoice
EMAIL_TEMPLATE_SUSPENSION=suspension
EMAIL_TEMPLATE_ACTIVATION=activation

# =================================================================
# MONITORING & LOGGING
# =================================================================
LOG_LEVEL=INFO
LOG_FORMAT=detailed
LOG_MAX_SIZE_MB=100
LOG_MAX_FILES=5
LOG_ROTATION_DAYS=30

# Sentry error tracking (optional)
SENTRY_DSN=your-sentry-dsn-url

# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Health checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=60

# =================================================================
# BACKUP CONFIGURATION
# =================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_COMPRESSION=true

# S3 backup storage (optional)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=your-backup-bucket
AWS_S3_REGION=us-west-2

# Local backup paths
BACKUP_LOCAL_PATH=/var/backups/n2p-crm01
BACKUP_DATABASE_PATH=/var/backups/n2p-crm01/database
BACKUP_FILES_PATH=/var/backups/n2p-crm01/files

# =================================================================
# AI/ML CONFIGURATION
# =================================================================
AI_MONITORING_ENABLED=true
AI_PREDICTION_ENABLED=true
AI_MODEL_UPDATE_INTERVAL_HOURS=24
AI_ANOMALY_THRESHOLD=0.85

# AI model storage
AI_MODELS_PATH=/var/lib/n2p-crm01/models
AI_TRAINING_DATA_RETENTION_DAYS=90

# OpenAI integration (optional)
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=1000

# =================================================================
# NETWORK MONITORING
# =================================================================
MONITORING_ENABLED=true
MONITORING_INTERVAL_SECONDS=30
MONITORING_TIMEOUT_SECONDS=5
MONITORING_MAX_RETRIES=3

# SNMP settings
SNMP_COMMUNITY=public
SNMP_VERSION=2c
SNMP_TIMEOUT=5
SNMP_RETRIES=3

# Ping monitoring
PING_COUNT=4
PING_TIMEOUT=3
PING_INTERVAL=60

# Bandwidth monitoring
BW_MONITORING_ENABLED=true
BW_CHECK_INTERVAL_MINUTES=5
BW_HISTORY_RETENTION_DAYS=30

# =================================================================
# GIS & MAPPING
# =================================================================
GIS_ENABLED=true
GIS_DEFAULT_LAT=21.1619
GIS_DEFAULT_LNG=-86.8515
GIS_DEFAULT_ZOOM=12

# Map providers
MAP_PROVIDER=google
MAP_STYLE=hybrid
SATELLITE_IMAGERY_ENABLED=true

# KMZ export settings
KMZ_EXPORT_ENABLED=true
KMZ_INCLUDE_CUSTOMERS=true
KMZ_INCLUDE_INFRASTRUCTURE=true

# =================================================================
# FILE UPLOAD & STORAGE
# =================================================================
MAX_FILE_SIZE_MB=100
ALLOWED_EXTENSIONS=jpg,jpeg,png,pdf,doc,docx,xls,xlsx,csv
UPLOAD_PATH=/var/lib/n2p-crm01/uploads

# Document storage
DOCUMENTS_PATH=/var/lib/n2p-crm01/documents
INVOICES_PATH=/var/lib/n2p-crm01/invoices
CONTRACTS_PATH=/var/lib/n2p-crm01/contracts

# =================================================================
# RATE LIMITING
# =================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# API rate limits
API_RATE_LIMIT_REQUESTS_PER_HOUR=1000
API_RATE_LIMIT_REQUESTS_PER_DAY=10000

# =================================================================
# QUEUE CONFIGURATION
# =================================================================
QUEUE_BACKEND=redis
QUEUE_DEFAULT_TIMEOUT=300
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_DELAY_SECONDS=60

# Task queues
QUEUE_HIGH_PRIORITY=high
QUEUE_NORMAL_PRIORITY=normal
QUEUE_LOW_PRIORITY=low

# =================================================================
# DEVELOPMENT & DEBUG
# =================================================================
# Only use in development!
DEVELOPMENT_MODE=false
DEBUG_SQL=false
DEBUG_API=false
MOCK_EXTERNAL_APIS=false

# Testing
TESTING=false
TEST_DATABASE_URL=mongodb://localhost:27017/n2p_crm_test

# =================================================================
# FEATURE FLAGS
# =================================================================
FEATURE_AI_MONITORING=true
FEATURE_BEQUANT_INTEGRATION=true
FEATURE_GIS_MAPPING=true
FEATURE_AUTOMATED_BILLING=true
FEATURE_WHATSAPP_NOTIFICATIONS=true
FEATURE_PREDICTIVE_ANALYTICS=true
FEATURE_MULTI_TENANT=false
FEATURE_API_V2=false

# =================================================================
# PERFORMANCE TUNING
# =================================================================
DATABASE_POOL_SIZE=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

CACHE_TTL_SECONDS=300
CACHE_MAX_ENTRIES=1000

# Worker processes
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
WORKER_TIMEOUT=30

# =================================================================
# COMPLIANCE & LEGAL
# =================================================================
# Mexican regulations
CFDI_ENABLED=true
CFDI_CERTIFICATE_PATH=/etc/n2p-crm01/certs/certificate.cer
CFDI_KEY_PATH=/etc/n2p-crm01/certs/private.key
CFDI_PASSWORD=your-certificate-password

# Data retention
DATA_RETENTION_YEARS=7
LOG_RETENTION_MONTHS=12
INVOICE_RETENTION_YEARS=10

# Privacy settings
GDPR_COMPLIANCE=true
PRIVACY_MODE=true
ANONYMIZE_LOGS=true

# =================================================================
# END OF CONFIGURATION
# =================================================================
# Remember to:
# 1. Change all default passwords
# 2. Configure API keys
# 3. Set up SSL certificates
# 4. Configure backup storage
# 5. Test all integrations
# =================================================================